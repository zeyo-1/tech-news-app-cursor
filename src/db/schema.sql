CREATE TABLE categories (\n  id SERIAL PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  slug VARCHAR(255) NOT NULL UNIQUE,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE subcategories (\n  id SERIAL PRIMARY KEY,\n  category_id INTEGER REFERENCES categories(id),\n  name VARCHAR(255) NOT NULL,\n  slug VARCHAR(255) NOT NULL UNIQUE,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE news (\n  id SERIAL PRIMARY KEY,\n  title TEXT NOT NULL,\n  content TEXT NOT NULL,\n  summary TEXT,\n  source_url TEXT,\n  source_name VARCHAR(255),\n  published_at TIMESTAMP WITH TIME ZONE,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE news_categories (\n  news_id INTEGER REFERENCES news(id),\n  category_id INTEGER REFERENCES categories(id),\n  subcategory_id INTEGER REFERENCES subcategories(id),\n  PRIMARY KEY (news_id, category_id)\n);\n\nCREATE TABLE users (\n  id UUID REFERENCES auth.users ON DELETE CASCADE,\n  email VARCHAR(255) NOT NULL UNIQUE,\n  role VARCHAR(50) DEFAULT \"user\",\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,\n  PRIMARY KEY (id)\n);
